<ion-header>
  <ion-toolbar color="dark">
    <ion-buttons slot="start">
      <ion-button (click)="router.navigate(['/tabs/users'])">
        <ion-icon name="arrow-back-outline" slot="icon-only"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title>Modifier Utilisateur</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">

  <div class="photo-section">
    <img [src]="getUserPhoto()" alt="Photo utilisateur" class="user-photo" />
    <ion-button fill="outline" color="medium" size="small" (click)="fileInput.click()">
      <ion-icon name="camera-outline" slot="start"></ion-icon>
      Changer la photo
    </ion-button>
    <input type="file" #fileInput hidden (change)="onFileSelected($event)" />
  </div>

  <form [formGroup]="userForm" (ngSubmit)="submit()" class="edit-form">

    <ion-item>
      <ion-label position="floating">Prénom</ion-label>
      <ion-input formControlName="firstName"></ion-input>
    </ion-item>

    <ion-item>
      <ion-label position="floating">Nom</ion-label>
      <ion-input formControlName="lastName"></ion-input>
    </ion-item>

    <ion-item>
      <ion-label position="floating">Email</ion-label>
      <ion-input formControlName="email" type="email"></ion-input>
    </ion-item>

    <ion-item>
      <ion-label position="floating">Téléphone</ion-label>
      <ion-input formControlName="phone" type="tel"></ion-input>
    </ion-item>

    <ion-item>
      <ion-label>Rôle</ion-label>
      <ion-select formControlName="role">
        <ion-select-option value="ADMIN">Administrateur</ion-select-option>
        <ion-select-option value="CLIENT">Client</ion-select-option>
      </ion-select>
    </ion-item>

    <ion-button expand="block" type="submit" color="success" class="save-btn" [disabled]="userForm.invalid">
      <ion-icon name="save-outline" slot="start"></ion-icon>
      Enregistrer les modifications
    </ion-button>
  </form>
</ion-content>
